<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <!-- Add other necessary meta tags here -->
    <!-- Links to external or internal CSS -->
    <link rel="stylesheet" href="path_to_your_css" /> <!-- Replace with your CSS path -->
    <!-- Bootstrap CSS, if using -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body>
    <header>
        <!-- Navigation bar, if applicable -->
    </header>
    
    <main>
        <section>
            <h1>Welcome, {{ current_user.name }}</h1>
            <h2>Your Projects</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th>Project Name</th>
                        <th>Description</th>
                        <!-- Add headers for other fields here -->
                    </tr>
                </thead>
                <tbody>
                    {% for project in projects %}
                    <tr>
                        <td>{{ project.name }}</td>
                        <td>{{ project.description }}</td>
                        <!-- Add other cells for other fields here -->
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="2">No projects to display.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
        
        <section>
            <h2>Your Tasks</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th>Task</th>
                        <th>Status</th>
                        <th>Deadline</th>
                        <!-- Other fields -->
                    </tr>
                </thead>
                <tbody>
                    {% for task in tasks %}
                    <tr>
                        <td>{{ task.name }}</td>
                        <td>{{ task.status }}</td>
                        <td>{{ task.deadline }}</td>
                        <!-- Other fields -->
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="3">No tasks to display.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>

        <!-- Insert Chart.js graph -->
        <section>
            <canvas id="myChart"></canvas>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Project 1', 'Project 2', 'Project 3'], // Update these values with real data
                    datasets: [{
                        label: 'Number of Tasks',
                        data: [12, 19, 3], // Update these values with real data
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            </script>
        </section>
    </main>
    
    <footer>
        <!-- Footer, if necessary -->
    </footer>
    
    <!-- JS Scripts at the bottom for improved load times -->
    <!-- jQuery, if needed -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap JS, if using -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>
